<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Masked HLS++: utils Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Masked HLS++<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Fast Register Balancing at behavioral level for generating minimum latency designs using MaskedHLS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">utils Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a64760885dba6d92351caf3fe931e4f87" id="r_a64760885dba6d92351caf3fe931e4f87"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64760885dba6d92351caf3fe931e4f87">defineInputsAndOutputs</a> (fName, functions, function_decl)</td></tr>
<tr class="separator:a64760885dba6d92351caf3fe931e4f87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55edef8aa55113152dc0ba5c37518a99" id="r_a55edef8aa55113152dc0ba5c37518a99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a55edef8aa55113152dc0ba5c37518a99">extractFunctionInfo</a> (node, functionInfo)</td></tr>
<tr class="separator:a55edef8aa55113152dc0ba5c37518a99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78d4c1eea6eb65a4bdd659bb059bedbf" id="r_a78d4c1eea6eb65a4bdd659bb059bedbf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78d4c1eea6eb65a4bdd659bb059bedbf">generate_c_file</a> (ast, filename)</td></tr>
<tr class="separator:a78d4c1eea6eb65a4bdd659bb059bedbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a59b688089dff450de907724aacb7c9" id="r_a5a59b688089dff450de907724aacb7c9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5a59b688089dff450de907724aacb7c9">getFunctionAssignments</a> (functionInfo, argumentMap, localVariablesMap, assignmentNodes)</td></tr>
<tr class="separator:a5a59b688089dff450de907724aacb7c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abee3c46ce009c4e3722f4f378831572c" id="r_abee3c46ce009c4e3722f4f378831572c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abee3c46ce009c4e3722f4f378831572c">getType</a> (node)</td></tr>
<tr class="separator:abee3c46ce009c4e3722f4f378831572c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cfaa93fe4012b806d808ada74f3594a" id="r_a5cfaa93fe4012b806d808ada74f3594a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5cfaa93fe4012b806d808ada74f3594a">insertAssignmentsAndDeclForConstants</a> (ast, constArr)</td></tr>
<tr class="separator:a5cfaa93fe4012b806d808ada74f3594a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2850c02b1717c8d6c2dd5d035800d353" id="r_a2850c02b1717c8d6c2dd5d035800d353"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2850c02b1717c8d6c2dd5d035800d353">mergeConstants</a> (ast)</td></tr>
<tr class="separator:a2850c02b1717c8d6c2dd5d035800d353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a044818bd87d9d443b283f98462af3565" id="r_a044818bd87d9d443b283f98462af3565"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a044818bd87d9d443b283f98462af3565">processDependantFunctions</a> (node, functionInfo, isTopModule)</td></tr>
<tr class="separator:a044818bd87d9d443b283f98462af3565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ffd1dd47727022933be90797aac97de" id="r_a1ffd1dd47727022933be90797aac97de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ffd1dd47727022933be90797aac97de">processFunctions</a> (functions, fDef, functionCalls, intermediateAssignments)</td></tr>
<tr class="separator:a1ffd1dd47727022933be90797aac97de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6fbd134eb0eb58bb912381e7c87db50" id="r_ad6fbd134eb0eb58bb912381e7c87db50"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6fbd134eb0eb58bb912381e7c87db50">writeVerilogToFile</a> (funcName, functions, internalVariables, functionCalls, filename, width)</td></tr>
<tr class="separator:ad6fbd134eb0eb58bb912381e7c87db50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a64760885dba6d92351caf3fe931e4f87" name="a64760885dba6d92351caf3fe931e4f87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64760885dba6d92351caf3fe931e4f87">&#9670;&#160;</a></span>defineInputsAndOutputs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">defineInputsAndOutputs </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>functions</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>function_decl</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Defines the inputs and outputs for a function based on its declaration.

This function updates the `functions` dictionary with the input and output ports of the function,
and also stores the order of parameters.

@param fName: The name of the function being processed.
@param functions: A dictionary to store information about functions.
@param function_decl: The function declaration node from the C Abstract Syntax Tree (AST).

@raises ValueError: If the return type of the function is other than `void`.
</pre> 
<p class="definition">Definition at line <a class="el" href="Compiler_2utils_8py_source.html#l00137">137</a> of file <a class="el" href="Compiler_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  137</span><span class="keyword">def </span>defineInputsAndOutputs(fName,functions,function_decl):</div>
<div class="line"><span class="lineno">  138</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  139</span><span class="stringliteral">    @brief Defines the inputs and outputs for a function based on its declaration.</span></div>
<div class="line"><span class="lineno">  140</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  141</span><span class="stringliteral">    This function updates the `functions` dictionary with the input and output ports of the function,</span></div>
<div class="line"><span class="lineno">  142</span><span class="stringliteral">    and also stores the order of parameters.</span></div>
<div class="line"><span class="lineno">  143</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  144</span><span class="stringliteral">    @param fName: The name of the function being processed.</span></div>
<div class="line"><span class="lineno">  145</span><span class="stringliteral">    @param functions: A dictionary to store information about functions.</span></div>
<div class="line"><span class="lineno">  146</span><span class="stringliteral">    @param function_decl: The function declaration node from the C Abstract Syntax Tree (AST).</span></div>
<div class="line"><span class="lineno">  147</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  148</span><span class="stringliteral">    @raises ValueError: If the return type of the function is other than `void`.</span></div>
<div class="line"><span class="lineno">  149</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  150</span>    functions[fName][<span class="stringliteral">&quot;inputs&quot;</span>].append(<span class="stringliteral">&quot;clk&quot;</span>)</div>
<div class="line"><span class="lineno">  151</span>    functions[fName][<span class="stringliteral">&quot;paramOrder&quot;</span>].append(<span class="stringliteral">&quot;clk&quot;</span>)</div>
<div class="line"><span class="lineno">  152</span>    params = function_decl.type.args.params</div>
<div class="line"><span class="lineno">  153</span>    <span class="keywordflow">for</span> param_decl <span class="keywordflow">in</span> params:</div>
<div class="line"><span class="lineno">  154</span>        node = param_decl.type;</div>
<div class="line"><span class="lineno">  155</span>        <span class="keywordflow">if</span> isinstance(node,c_ast.TypeDecl):</div>
<div class="line"><span class="lineno">  156</span>            functions[fName][<span class="stringliteral">&quot;inputs&quot;</span>].append(node.declname)</div>
<div class="line"><span class="lineno">  157</span>            functions[fName][<span class="stringliteral">&quot;paramOrder&quot;</span>].append(node.declname)</div>
<div class="line"><span class="lineno">  158</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  159</span>            functions[fName][<span class="stringliteral">&quot;outputs&quot;</span>].append(node.type.declname)</div>
<div class="line"><span class="lineno">  160</span>            functions[fName][<span class="stringliteral">&quot;paramOrder&quot;</span>].append(node.type.declname)</div>
<div class="line"><span class="lineno">  161</span>    if(function_decl.type.type.type.names[0] != <span class="stringliteral">&quot;void&quot;</span>):</div>
<div class="line"><span class="lineno">  162</span>        print(<span class="stringliteral">&quot;Return type other than void not supported.&quot;</span>)</div>
<div class="line"><span class="lineno">  163</span>        sys.exit(1)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a55edef8aa55113152dc0ba5c37518a99" name="a55edef8aa55113152dc0ba5c37518a99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55edef8aa55113152dc0ba5c37518a99">&#9670;&#160;</a></span>extractFunctionInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">extractFunctionInfo </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>node</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>functionInfo</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Extracts information about a function, including parameters, local variables, and assignment nodes.

This function collects parameters, local variables, and assignment nodes from a function definition node and
stores the information in the functionInfo dictionary.

@param node: The function definition node to extract information from.
@type node: pycparser.c_ast.FuncDef
@param functionInfo: Dictionary to store extracted function information.
@type functionInfo: dict
</pre> 
<p class="definition">Definition at line <a class="el" href="Inliner_2utils_8py_source.html#l00044">44</a> of file <a class="el" href="Inliner_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   44</span><span class="keyword">def </span>extractFunctionInfo(node,functionInfo):</div>
<div class="line"><span class="lineno">   45</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   46</span><span class="stringliteral">    @brief Extracts information about a function, including parameters, local variables, and assignment nodes.</span></div>
<div class="line"><span class="lineno">   47</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   48</span><span class="stringliteral">    This function collects parameters, local variables, and assignment nodes from a function definition node and</span></div>
<div class="line"><span class="lineno">   49</span><span class="stringliteral">    stores the information in the functionInfo dictionary.</span></div>
<div class="line"><span class="lineno">   50</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   51</span><span class="stringliteral">    @param node: The function definition node to extract information from.</span></div>
<div class="line"><span class="lineno">   52</span><span class="stringliteral">    @type node: pycparser.c_ast.FuncDef</span></div>
<div class="line"><span class="lineno">   53</span><span class="stringliteral">    @param functionInfo: Dictionary to store extracted function information.</span></div>
<div class="line"><span class="lineno">   54</span><span class="stringliteral">    @type functionInfo: dict</span></div>
<div class="line"><span class="lineno">   55</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   56</span>    function_name = node.decl.name</div>
<div class="line"><span class="lineno">   57</span>    parameters = []</div>
<div class="line"><span class="lineno">   58</span>    localVariables = []</div>
<div class="line"><span class="lineno">   59</span>    localVariablesType = []</div>
<div class="line"><span class="lineno">   60</span>    assignmentNodes = []</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>    <span class="keywordflow">if</span> node.decl.type.args:</div>
<div class="line"><span class="lineno">   63</span>        <span class="keywordflow">for</span> param_decl <span class="keywordflow">in</span> node.decl.type.args.params:</div>
<div class="line"><span class="lineno">   64</span>            parameters.append(param_decl.name)</div>
<div class="line"><span class="lineno">   65</span>    </div>
<div class="line"><span class="lineno">   66</span>    functionBody = node.body</div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordflow">for</span> blockItem <span class="keywordflow">in</span> functionBody.block_items:</div>
<div class="line"><span class="lineno">   68</span>        <span class="keywordflow">if</span> isinstance(blockItem,c_ast.Decl):</div>
<div class="line"><span class="lineno">   69</span>            typeOfId = getType(blockItem.type.type)</div>
<div class="line"><span class="lineno">   70</span>            localVariablesType.append(typeOfId)</div>
<div class="line"><span class="lineno">   71</span>            localVariables.append(blockItem.name)</div>
<div class="line"><span class="lineno">   72</span>        <span class="keywordflow">if</span> isinstance(blockItem,c_ast.Assignment):</div>
<div class="line"><span class="lineno">   73</span>            <span class="keywordflow">if</span> isinstance(blockItem.lvalue,c_ast.UnaryOp):</div>
<div class="line"><span class="lineno">   74</span>                blockItem.lvalue = c_ast.ID(blockItem.lvalue.expr.name)</div>
<div class="line"><span class="lineno">   75</span>            visitor = LocalVariablesModifier(localVariables,function_name)</div>
<div class="line"><span class="lineno">   76</span>            visitor.visit(blockItem)</div>
<div class="line"><span class="lineno">   77</span>            assignmentNodes.append(blockItem)</div>
<div class="line"><span class="lineno">   78</span>    </div>
<div class="line"><span class="lineno">   79</span>    <span class="keywordflow">for</span> index <span class="keywordflow">in</span> range(len(localVariables)):</div>
<div class="line"><span class="lineno">   80</span>        localVariables[index] += (<span class="stringliteral">&#39;_&#39;</span> + function_name)</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>    functionInfo[function_name] = {</div>
<div class="line"><span class="lineno">   83</span>        <span class="stringliteral">&#39;parameters&#39;</span> : parameters,</div>
<div class="line"><span class="lineno">   84</span>        <span class="stringliteral">&#39;localVariables&#39;</span> : localVariables,</div>
<div class="line"><span class="lineno">   85</span>        <span class="stringliteral">&#39;localVariablesType&#39;</span> : localVariablesType,</div>
<div class="line"><span class="lineno">   86</span>        <span class="stringliteral">&#39;assignmentNodes&#39;</span> : assignmentNodes,</div>
<div class="line"><span class="lineno">   87</span>        <span class="stringliteral">&#39;firstTimeProcessing&#39;</span> : <span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">   88</span>        <span class="stringliteral">&#39;timesCalled&#39;</span> : 0</div>
<div class="line"><span class="lineno">   89</span>    }</div>
<div class="line"><span class="lineno">   90</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a78d4c1eea6eb65a4bdd659bb059bedbf" name="a78d4c1eea6eb65a4bdd659bb059bedbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78d4c1eea6eb65a4bdd659bb059bedbf">&#9670;&#160;</a></span>generate_c_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">generate_c_file </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ast</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>filename</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Generates C code from the provided Abstract Syntax Tree (AST) and writes it to a file.

This function uses the C generator to convert the AST into C code and saves the generated code to the specified file.

@param ast: The Abstract Syntax Tree to be converted into C code.
@type ast: pycparser.c_ast.FileAST
@param filename: The name of the file where the generated C code will be saved.
@type filename: str
</pre> 
<p class="definition">Definition at line <a class="el" href="Inliner_2utils_8py_source.html#l00200">200</a> of file <a class="el" href="Inliner_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  200</span><span class="keyword">def </span>generate_c_file(ast,filename):</div>
<div class="line"><span class="lineno">  201</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  202</span><span class="stringliteral">    @brief Generates C code from the provided Abstract Syntax Tree (AST) and writes it to a file.</span></div>
<div class="line"><span class="lineno">  203</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  204</span><span class="stringliteral">    This function uses the C generator to convert the AST into C code and saves the generated code to the specified file.</span></div>
<div class="line"><span class="lineno">  205</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  206</span><span class="stringliteral">    @param ast: The Abstract Syntax Tree to be converted into C code.</span></div>
<div class="line"><span class="lineno">  207</span><span class="stringliteral">    @type ast: pycparser.c_ast.FileAST</span></div>
<div class="line"><span class="lineno">  208</span><span class="stringliteral">    @param filename: The name of the file where the generated C code will be saved.</span></div>
<div class="line"><span class="lineno">  209</span><span class="stringliteral">    @type filename: str</span></div>
<div class="line"><span class="lineno">  210</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  211</span>    generator = c_generator.CGenerator()</div>
<div class="line"><span class="lineno">  212</span>    <span class="keyword">with</span> open(filename, <span class="stringliteral">&#39;w&#39;</span>) <span class="keyword">as</span> output_file:</div>
<div class="line"><span class="lineno">  213</span>        print(generator.visit(ast), file=output_file)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5a59b688089dff450de907724aacb7c9" name="a5a59b688089dff450de907724aacb7c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a59b688089dff450de907724aacb7c9">&#9670;&#160;</a></span>getFunctionAssignments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getFunctionAssignments </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>functionInfo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>argumentMap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>localVariablesMap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>assignmentNodes</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Extracts and modifies function assignment nodes based on argument and local variable mappings.

This function processes the assignment nodes of a given function, updating identifiers according to the provided 
argument and local variable mappings, and appends the modified nodes to the assignmentNodes list.

@param functionInfo: Dictionary containing function information, including assignment nodes.
@type functionInfo: dict
@param argumentMap: Mapping from function parameters to argument names.
@type argumentMap: dict
@param localVariablesMap: Mapping from local variables to new variable names.
@type localVariablesMap: dict
@param assignmentNodes: List to which modified assignment nodes will be appended.
@type assignmentNodes: list
</pre> 
<p class="definition">Definition at line <a class="el" href="Inliner_2utils_8py_source.html#l00006">6</a> of file <a class="el" href="Inliner_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">    6</span><span class="keyword">def </span>getFunctionAssignments(functionInfo,argumentMap,localVariablesMap,assignmentNodes):</div>
<div class="line"><span class="lineno">    7</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">    8</span><span class="stringliteral">    @brief Extracts and modifies function assignment nodes based on argument and local variable mappings.</span></div>
<div class="line"><span class="lineno">    9</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   10</span><span class="stringliteral">    This function processes the assignment nodes of a given function, updating identifiers according to the provided </span></div>
<div class="line"><span class="lineno">   11</span><span class="stringliteral">    argument and local variable mappings, and appends the modified nodes to the assignmentNodes list.</span></div>
<div class="line"><span class="lineno">   12</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   13</span><span class="stringliteral">    @param functionInfo: Dictionary containing function information, including assignment nodes.</span></div>
<div class="line"><span class="lineno">   14</span><span class="stringliteral">    @type functionInfo: dict</span></div>
<div class="line"><span class="lineno">   15</span><span class="stringliteral">    @param argumentMap: Mapping from function parameters to argument names.</span></div>
<div class="line"><span class="lineno">   16</span><span class="stringliteral">    @type argumentMap: dict</span></div>
<div class="line"><span class="lineno">   17</span><span class="stringliteral">    @param localVariablesMap: Mapping from local variables to new variable names.</span></div>
<div class="line"><span class="lineno">   18</span><span class="stringliteral">    @type localVariablesMap: dict</span></div>
<div class="line"><span class="lineno">   19</span><span class="stringliteral">    @param assignmentNodes: List to which modified assignment nodes will be appended.</span></div>
<div class="line"><span class="lineno">   20</span><span class="stringliteral">    @type assignmentNodes: list</span></div>
<div class="line"><span class="lineno">   21</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   22</span>    copyAssignmentNodes = copy.deepcopy(functionInfo[<span class="stringliteral">&#39;assignmentNodes&#39;</span>])</div>
<div class="line"><span class="lineno">   23</span>    <span class="keywordflow">for</span> node <span class="keywordflow">in</span> copyAssignmentNodes:</div>
<div class="line"><span class="lineno">   24</span>        visitor = IdVisitor(argumentMap,localVariablesMap)</div>
<div class="line"><span class="lineno">   25</span>        visitor.visit(node)</div>
<div class="line"><span class="lineno">   26</span>        assignmentNodes.append(node);</div>
<div class="line"><span class="lineno">   27</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abee3c46ce009c4e3722f4f378831572c" name="abee3c46ce009c4e3722f4f378831572c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abee3c46ce009c4e3722f4f378831572c">&#9670;&#160;</a></span>getType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getType </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>node</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Retrieves the type name from a type node.

This function extracts the type name from a given node. It supports both IdentifierType and other type nodes.

@param node: The type node from which to extract the type name.
@type node: pycparser.c_ast.Type
@return: The type name as a string.
@rtype: str
</pre> 
<p class="definition">Definition at line <a class="el" href="Inliner_2utils_8py_source.html#l00028">28</a> of file <a class="el" href="Inliner_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   28</span><span class="keyword">def </span>getType(node):</div>
<div class="line"><span class="lineno">   29</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   30</span><span class="stringliteral">    @brief Retrieves the type name from a type node.</span></div>
<div class="line"><span class="lineno">   31</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   32</span><span class="stringliteral">    This function extracts the type name from a given node. It supports both IdentifierType and other type nodes.</span></div>
<div class="line"><span class="lineno">   33</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   34</span><span class="stringliteral">    @param node: The type node from which to extract the type name.</span></div>
<div class="line"><span class="lineno">   35</span><span class="stringliteral">    @type node: pycparser.c_ast.Type</span></div>
<div class="line"><span class="lineno">   36</span><span class="stringliteral">    @return: The type name as a string.</span></div>
<div class="line"><span class="lineno">   37</span><span class="stringliteral">    @rtype: str</span></div>
<div class="line"><span class="lineno">   38</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   39</span>    <span class="keywordflow">if</span> isinstance(node,c_ast.IdentifierType):</div>
<div class="line"><span class="lineno">   40</span>        <span class="keywordflow">return</span> node.names[0]</div>
<div class="line"><span class="lineno">   41</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   42</span>        <span class="keywordflow">return</span> node.type.names[0]</div>
<div class="line"><span class="lineno">   43</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5cfaa93fe4012b806d808ada74f3594a" name="a5cfaa93fe4012b806d808ada74f3594a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cfaa93fe4012b806d808ada74f3594a">&#9670;&#160;</a></span>insertAssignmentsAndDeclForConstants()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">insertAssignmentsAndDeclForConstants </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ast</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>constArr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Inserts assignments and declarations for constants into the AST.

This function adds declarations and assignments for constants into the function's parameter list and body nodes.

@param ast: The Abstract Syntax Tree to be updated.
@type ast: pycparser.c_ast.FileAST
@param constArr: List of constant names to be added to the AST.
@type constArr: list of str
@return: The updated Abstract Syntax Tree.
@rtype: pycparser.c_ast.FileAST
</pre> 
<p class="definition">Definition at line <a class="el" href="Inliner_2utils_8py_source.html#l00176">176</a> of file <a class="el" href="Inliner_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  176</span><span class="keyword">def </span>insertAssignmentsAndDeclForConstants(ast,constArr):</div>
<div class="line"><span class="lineno">  177</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  178</span><span class="stringliteral">    @brief Inserts assignments and declarations for constants into the AST.</span></div>
<div class="line"><span class="lineno">  179</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  180</span><span class="stringliteral">    This function adds declarations and assignments for constants into the function&#39;s parameter list and body nodes.</span></div>
<div class="line"><span class="lineno">  181</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  182</span><span class="stringliteral">    @param ast: The Abstract Syntax Tree to be updated.</span></div>
<div class="line"><span class="lineno">  183</span><span class="stringliteral">    @type ast: pycparser.c_ast.FileAST</span></div>
<div class="line"><span class="lineno">  184</span><span class="stringliteral">    @param constArr: List of constant names to be added to the AST.</span></div>
<div class="line"><span class="lineno">  185</span><span class="stringliteral">    @type constArr: list of str</span></div>
<div class="line"><span class="lineno">  186</span><span class="stringliteral">    @return: The updated Abstract Syntax Tree.</span></div>
<div class="line"><span class="lineno">  187</span><span class="stringliteral">    @rtype: pycparser.c_ast.FileAST</span></div>
<div class="line"><span class="lineno">  188</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  189</span>    paramList = ast.ext[0].decl.type.args.params</div>
<div class="line"><span class="lineno">  190</span>    bodyNodes = ast.ext[0].body.block_items</div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordflow">for</span> const <span class="keywordflow">in</span> constArr:</div>
<div class="line"><span class="lineno">  192</span>        bodyNodes.insert(0,getSimpleAssignmentNode(const + <span class="stringliteral">&quot;_inp&quot;</span>,const))</div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">for</span> const <span class="keywordflow">in</span> constArr:</div>
<div class="line"><span class="lineno">  194</span>        bodyNodes.insert(0,getDeclarationNode(const + <span class="stringliteral">&quot;_inp&quot;</span>,<span class="stringliteral">&quot;int&quot;</span>))</div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">for</span> const <span class="keywordflow">in</span> constArr:</div>
<div class="line"><span class="lineno">  196</span>        paramList.append(getDeclarationNode(const,<span class="stringliteral">&quot;int&quot;</span>))</div>
<div class="line"><span class="lineno">  197</span>    <span class="keywordflow">return</span> ast</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2850c02b1717c8d6c2dd5d035800d353" name="a2850c02b1717c8d6c2dd5d035800d353"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2850c02b1717c8d6c2dd5d035800d353">&#9670;&#160;</a></span>mergeConstants()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mergeConstants </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ast</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Placeholder function for merging constants.

This function currently does nothing and is intended to be implemented with logic for merging constants in the AST.

@param ast: The Abstract Syntax Tree to be processed.
@type ast: pycparser.c_ast.FileAST
</pre> 
<p class="definition">Definition at line <a class="el" href="Inliner_2utils_8py_source.html#l00165">165</a> of file <a class="el" href="Inliner_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  165</span><span class="keyword">def </span>mergeConstants(ast):</div>
<div class="line"><span class="lineno">  166</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  167</span><span class="stringliteral">    @brief Placeholder function for merging constants.</span></div>
<div class="line"><span class="lineno">  168</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  169</span><span class="stringliteral">    This function currently does nothing and is intended to be implemented with logic for merging constants in the AST.</span></div>
<div class="line"><span class="lineno">  170</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  171</span><span class="stringliteral">    @param ast: The Abstract Syntax Tree to be processed.</span></div>
<div class="line"><span class="lineno">  172</span><span class="stringliteral">    @type ast: pycparser.c_ast.FileAST</span></div>
<div class="line"><span class="lineno">  173</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  174</span>    a = 1</div>
<div class="line"><span class="lineno">  175</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a044818bd87d9d443b283f98462af3565" name="a044818bd87d9d443b283f98462af3565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a044818bd87d9d443b283f98462af3565">&#9670;&#160;</a></span>processDependantFunctions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">processDependantFunctions </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>node</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>functionInfo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>isTopModule</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Processes function calls within a given function, handling parameter and local variable modifications.

This function modifies function calls within the function body, updates the parameter and local variable mappings,
and inserts appropriate declarations and assignments into the function body.

@param node: The function definition node to process.
@type node: pycparser.c_ast.FuncDef
@param functionInfo: Dictionary containing information about all functions.
@type functionInfo: dict
@param isTopModule: Boolean indicating if the function is the top module.
@type isTopModule: bool
</pre> 
<p class="definition">Definition at line <a class="el" href="Inliner_2utils_8py_source.html#l00091">91</a> of file <a class="el" href="Inliner_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   91</span><span class="keyword">def </span>processDependantFunctions(node,functionInfo,isTopModule):</div>
<div class="line"><span class="lineno">   92</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   93</span><span class="stringliteral">    @brief Processes function calls within a given function, handling parameter and local variable modifications.</span></div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   95</span><span class="stringliteral">    This function modifies function calls within the function body, updates the parameter and local variable mappings,</span></div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral">    and inserts appropriate declarations and assignments into the function body.</span></div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   98</span><span class="stringliteral">    @param node: The function definition node to process.</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral">    @type node: pycparser.c_ast.FuncDef</span></div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral">    @param functionInfo: Dictionary containing information about all functions.</span></div>
<div class="line"><span class="lineno">  101</span><span class="stringliteral">    @type functionInfo: dict</span></div>
<div class="line"><span class="lineno">  102</span><span class="stringliteral">    @param isTopModule: Boolean indicating if the function is the top module.</span></div>
<div class="line"><span class="lineno">  103</span><span class="stringliteral">    @type isTopModule: bool</span></div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  105</span>    functionBody = node.body</div>
<div class="line"><span class="lineno">  106</span>    changedInputMap = {}</div>
<div class="line"><span class="lineno">  107</span>    bodyNodes = []</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordflow">if</span> isTopModule:</div>
<div class="line"><span class="lineno">  110</span>        <span class="keywordflow">if</span> node.decl.type.args:</div>
<div class="line"><span class="lineno">  111</span>            <span class="keywordflow">for</span> param_decl <span class="keywordflow">in</span> node.decl.type.args.params:</div>
<div class="line"><span class="lineno">  112</span>                visitor = DeclVisitor()</div>
<div class="line"><span class="lineno">  113</span>                visitor.visit(param_decl)</div>
<div class="line"><span class="lineno">  114</span>                declType = param_decl.type</div>
<div class="line"><span class="lineno">  115</span>                <span class="keywordflow">if</span> isinstance(declType,c_ast.TypeDecl):</div>
<div class="line"><span class="lineno">  116</span>                    typeOfId = getType(declType.type)</div>
<div class="line"><span class="lineno">  117</span>                    bodyNodes.append(getDeclarationNode(param_decl.name + <span class="stringliteral">&#39;_inp&#39;</span>,typeOfId))</div>
<div class="line"><span class="lineno">  118</span>                    changedInputMap[param_decl.name] = param_decl.name + <span class="stringliteral">&#39;_inp&#39;</span></div>
<div class="line"><span class="lineno">  119</span>            <span class="keywordflow">for</span> param_decl <span class="keywordflow">in</span> node.decl.type.args.params:</div>
<div class="line"><span class="lineno">  120</span>                declType = param_decl.type</div>
<div class="line"><span class="lineno">  121</span>                <span class="keywordflow">if</span> isinstance(declType,c_ast.TypeDecl):</div>
<div class="line"><span class="lineno">  122</span>                    bodyNodes.append(getSimpleAssignmentNode(param_decl.name + <span class="stringliteral">&#39;_inp&#39;</span>,param_decl.name))</div>
<div class="line"><span class="lineno">  123</span>    </div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordflow">for</span> blockItem <span class="keywordflow">in</span> functionBody.block_items:</div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordflow">if</span> isinstance(blockItem,c_ast.Decl):</div>
<div class="line"><span class="lineno">  126</span>            visitor = DeclVisitor()</div>
<div class="line"><span class="lineno">  127</span>            visitor.visit(blockItem)</div>
<div class="line"><span class="lineno">  128</span>            bodyNodes.append(blockItem)</div>
<div class="line"><span class="lineno">  129</span>        </div>
<div class="line"><span class="lineno">  130</span>        <span class="keywordflow">if</span> isinstance(blockItem,c_ast.Assignment):</div>
<div class="line"><span class="lineno">  131</span>            visitor = InputParamModifier(changedInputMap)</div>
<div class="line"><span class="lineno">  132</span>            visitor.visit(blockItem)</div>
<div class="line"><span class="lineno">  133</span>            bodyNodes.append(blockItem)</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>        <span class="keywordflow">if</span> isinstance(blockItem,c_ast.FuncCall):</div>
<div class="line"><span class="lineno">  136</span>            argumentMap = {}</div>
<div class="line"><span class="lineno">  137</span>            localVariablesMap = {}</div>
<div class="line"><span class="lineno">  138</span>            </div>
<div class="line"><span class="lineno">  139</span>            functionName = blockItem.name.name</div>
<div class="line"><span class="lineno">  140</span>            parameters = functionInfo[functionName][<span class="stringliteral">&#39;parameters&#39;</span>]</div>
<div class="line"><span class="lineno">  141</span>            localVariables = functionInfo[functionName][<span class="stringliteral">&#39;localVariables&#39;</span>]</div>
<div class="line"><span class="lineno">  142</span>            localVariablesType = functionInfo[functionName][<span class="stringliteral">&#39;localVariablesType&#39;</span>]</div>
<div class="line"><span class="lineno">  143</span>            timesCalled = functionInfo[functionName][<span class="stringliteral">&#39;timesCalled&#39;</span>]</div>
<div class="line"><span class="lineno">  144</span>            arguments = blockItem.args.exprs</div>
<div class="line"><span class="lineno">  145</span>            <span class="keywordflow">for</span> index <span class="keywordflow">in</span> range(len(arguments)):</div>
<div class="line"><span class="lineno">  146</span>                <span class="keywordflow">if</span> isinstance(arguments[index],c_ast.UnaryOp):</div>
<div class="line"><span class="lineno">  147</span>                    arguments[index] = c_ast.ID(arguments[index].expr.name)</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>            <span class="keywordflow">for</span> localVariable,localVariableType <span class="keywordflow">in</span> zip(localVariables,localVariablesType):</div>
<div class="line"><span class="lineno">  150</span>                declNode = getDeclarationNode(localVariable + str(timesCalled),localVariableType)</div>
<div class="line"><span class="lineno">  151</span>                localVariablesMap[localVariable] = localVariable + str(timesCalled)</div>
<div class="line"><span class="lineno">  152</span>                bodyNodes.append(declNode)</div>
<div class="line"><span class="lineno">  153</span>            </div>
<div class="line"><span class="lineno">  154</span>            <span class="keywordflow">for</span> index <span class="keywordflow">in</span> range(len(parameters)):</div>
<div class="line"><span class="lineno">  155</span>                <span class="keywordflow">if</span> arguments[index].name <span class="keywordflow">in</span> changedInputMap:</div>
<div class="line"><span class="lineno">  156</span>                    argName = arguments[index].name + <span class="stringliteral">&#39;_inp&#39;</span></div>
<div class="line"><span class="lineno">  157</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  158</span>                    argName = arguments[index].name</div>
<div class="line"><span class="lineno">  159</span>                argumentMap[parameters[index]] = argName</div>
<div class="line"><span class="lineno">  160</span>            </div>
<div class="line"><span class="lineno">  161</span>            getFunctionAssignments(functionInfo[functionName],argumentMap,localVariablesMap,bodyNodes)</div>
<div class="line"><span class="lineno">  162</span>            functionInfo[functionName][<span class="stringliteral">&#39;timesCalled&#39;</span>] += 1</div>
<div class="line"><span class="lineno">  163</span>    node.body = c_ast.Compound(block_items=bodyNodes)</div>
<div class="line"><span class="lineno">  164</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1ffd1dd47727022933be90797aac97de" name="a1ffd1dd47727022933be90797aac97de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ffd1dd47727022933be90797aac97de">&#9670;&#160;</a></span>processFunctions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">processFunctions </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>functions</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fDef</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>functionCalls</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>intermediateAssignments</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Processes a function definition to extract its inputs, outputs, intermediate variables, and function calls.

This function analyzes the function definition to build a dictionary of function information, including
the inputs, outputs, and function calls. It also updates intermediate variable assignments based on the function body.

@param functions: A dictionary to store information about functions, including their inputs, outputs, and parameter order.
@param fDef: The function definition node from the C Abstract Syntax Tree (AST).
@param functionCalls: A dictionary to store function calls made within the function.
@param intermediateAssignments: A dictionary to store intermediate variable assignments for the function.

@raises ValueError: If the return type of the function is other than `void`.
</pre> 
<p class="definition">Definition at line <a class="el" href="Compiler_2utils_8py_source.html#l00087">87</a> of file <a class="el" href="Compiler_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   87</span><span class="keyword">def </span>processFunctions(functions,fDef,functionCalls,intermediateAssignments):</div>
<div class="line"><span class="lineno">   88</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   89</span><span class="stringliteral">    @brief Processes a function definition to extract its inputs, outputs, intermediate variables, and function calls.</span></div>
<div class="line"><span class="lineno">   90</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   91</span><span class="stringliteral">    This function analyzes the function definition to build a dictionary of function information, including</span></div>
<div class="line"><span class="lineno">   92</span><span class="stringliteral">    the inputs, outputs, and function calls. It also updates intermediate variable assignments based on the function body.</span></div>
<div class="line"><span class="lineno">   93</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral">    @param functions: A dictionary to store information about functions, including their inputs, outputs, and parameter order.</span></div>
<div class="line"><span class="lineno">   95</span><span class="stringliteral">    @param fDef: The function definition node from the C Abstract Syntax Tree (AST).</span></div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral">    @param functionCalls: A dictionary to store function calls made within the function.</span></div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral">    @param intermediateAssignments: A dictionary to store intermediate variable assignments for the function.</span></div>
<div class="line"><span class="lineno">   98</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral">    @raises ValueError: If the return type of the function is other than `void`.</span></div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  101</span>    regPresent = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  102</span>    function_decl = fDef.decl</div>
<div class="line"><span class="lineno">  103</span>    fName = function_decl.name</div>
<div class="line"><span class="lineno">  104</span>    functions[fName] = {</div>
<div class="line"><span class="lineno">  105</span>        <span class="stringliteral">&quot;inputs&quot;</span> : [],</div>
<div class="line"><span class="lineno">  106</span>        <span class="stringliteral">&quot;outputs&quot;</span> : [],</div>
<div class="line"><span class="lineno">  107</span>        <span class="stringliteral">&quot;paramOrder&quot;</span> : [],</div>
<div class="line"><span class="lineno">  108</span>        <span class="stringliteral">&quot;called&quot;</span> : 0,</div>
<div class="line"><span class="lineno">  109</span>        <span class="stringliteral">&quot;regPresent&quot;</span> : <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  110</span>    }</div>
<div class="line"><span class="lineno">  111</span>    functionCalls[fName] = []</div>
<div class="line"><span class="lineno">  112</span>    intermediateAssignments[fName] = {}</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>    defineInputsAndOutputs(fName,functions,function_decl)</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span>    <span class="comment">#type, value</span></div>
<div class="line"><span class="lineno">  117</span>    internalVariables = {}</div>
<div class="line"><span class="lineno">  118</span>    exp = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  119</span>    function_body = fDef.body</div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordflow">for</span> node <span class="keywordflow">in</span> function_body.block_items:</div>
<div class="line"><span class="lineno">  121</span>        <span class="keywordflow">if</span> isinstance(node,c_ast.Decl) <span class="keywordflow">and</span> node.init <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  122</span>            regPresent = handleDeclBlock(node,internalVariables)</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>        <span class="keywordflow">elif</span> isinstance(node,c_ast.Assignment):</div>
<div class="line"><span class="lineno">  125</span>            regPresent = handleAssignmentBlock(node,internalVariables)</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>        <span class="keywordflow">elif</span> isinstance(node,c_ast.Return):</div>
<div class="line"><span class="lineno">  128</span>            handleReturnBlock(node,internalVariables,functions,fName)</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>        <span class="keywordflow">elif</span> isinstance(node,c_ast.FuncCall):</div>
<div class="line"><span class="lineno">  131</span>            handleFuncCallBlock(node,functions,fName,functionCalls,internalVariables)</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>        if(regPresent):</div>
<div class="line"><span class="lineno">  134</span>            functions[fName][<span class="stringliteral">&quot;regPresent&quot;</span>] = regPresent</div>
<div class="line"><span class="lineno">  135</span>    intermediateAssignments[fName] = internalVariables</div>
<div class="line"><span class="lineno">  136</span>    </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad6fbd134eb0eb58bb912381e7c87db50" name="ad6fbd134eb0eb58bb912381e7c87db50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6fbd134eb0eb58bb912381e7c87db50">&#9670;&#160;</a></span>writeVerilogToFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">writeVerilogToFile </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>funcName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>functions</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>internalVariables</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>functionCalls</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>width</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Writes the Verilog code for a given function to a file.

This function generates a Verilog module for the specified function based on its inputs, outputs,
intermediate variables, and function calls. It writes the module declaration, input and output ports,
intermediate value declarations, wire and reg assignments, and instantiations of other modules.

@param funcName: The name of the function for which the Verilog code is generated.
@param functions: A dictionary containing information about functions, including their inputs, outputs, and parameter order.
@param internalVariables: A dictionary of internal variables used in the function, including their types and values.
@param functionCalls: A dictionary of function calls made within the function, including the instance names and parameter lists.
@param filename: The name of the file to which the Verilog code will be written.
@param width: The bit width for the variables. If '0', no width is added; otherwise, a range is added to the variable declaration.

@raises IOError: If the file cannot be opened or written to.
</pre> 
<p class="definition">Definition at line <a class="el" href="Compiler_2utils_8py_source.html#l00005">5</a> of file <a class="el" href="Compiler_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">    5</span><span class="keyword">def </span>writeVerilogToFile(funcName, functions, internalVariables, functionCalls, filename,width):</div>
<div class="line"><span class="lineno">    6</span>    <span class="comment">#width = &quot; [7:0] &quot; if width==&#39;int&#39; else &quot; &quot;</span></div>
<div class="line"><span class="lineno">    7</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">    8</span><span class="stringliteral">    @brief Writes the Verilog code for a given function to a file.</span></div>
<div class="line"><span class="lineno">    9</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   10</span><span class="stringliteral">    This function generates a Verilog module for the specified function based on its inputs, outputs,</span></div>
<div class="line"><span class="lineno">   11</span><span class="stringliteral">    intermediate variables, and function calls. It writes the module declaration, input and output ports,</span></div>
<div class="line"><span class="lineno">   12</span><span class="stringliteral">    intermediate value declarations, wire and reg assignments, and instantiations of other modules.</span></div>
<div class="line"><span class="lineno">   13</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   14</span><span class="stringliteral">    @param funcName: The name of the function for which the Verilog code is generated.</span></div>
<div class="line"><span class="lineno">   15</span><span class="stringliteral">    @param functions: A dictionary containing information about functions, including their inputs, outputs, and parameter order.</span></div>
<div class="line"><span class="lineno">   16</span><span class="stringliteral">    @param internalVariables: A dictionary of internal variables used in the function, including their types and values.</span></div>
<div class="line"><span class="lineno">   17</span><span class="stringliteral">    @param functionCalls: A dictionary of function calls made within the function, including the instance names and parameter lists.</span></div>
<div class="line"><span class="lineno">   18</span><span class="stringliteral">    @param filename: The name of the file to which the Verilog code will be written.</span></div>
<div class="line"><span class="lineno">   19</span><span class="stringliteral">    @param width: The bit width for the variables. If &#39;0&#39;, no width is added; otherwise, a range is added to the variable declaration.</span></div>
<div class="line"><span class="lineno">   20</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   21</span><span class="stringliteral">    @raises IOError: If the file cannot be opened or written to.</span></div>
<div class="line"><span class="lineno">   22</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   23</span>    width = <span class="stringliteral">&quot; &quot;</span> <span class="keywordflow">if</span> width==<span class="stringliteral">&#39;0&#39;</span> <span class="keywordflow">else</span> <span class="stringliteral">&quot; [&quot;</span> + width + <span class="stringliteral">&quot;:0] &quot;</span></div>
<div class="line"><span class="lineno">   24</span>    <span class="keyword">with</span> open(filename, <span class="stringliteral">&#39;w&#39;</span>) <span class="keyword">as</span> file:</div>
<div class="line"><span class="lineno">   25</span>        <span class="comment"># Redirect print output to the file</span></div>
<div class="line"><span class="lineno">   26</span>        print(<span class="stringliteral">&quot;module &quot;</span> + funcName + <span class="stringliteral">&quot;(&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   27</span>        <span class="keywordflow">for</span> ip <span class="keywordflow">in</span> functions[funcName][<span class="stringliteral">&quot;inputs&quot;</span>]:</div>
<div class="line"><span class="lineno">   28</span>            print(<span class="stringliteral">&quot;    &quot;</span> + ip + <span class="stringliteral">&quot;,&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   29</span>        <span class="keywordflow">for</span> op <span class="keywordflow">in</span> functions[funcName][<span class="stringliteral">&quot;outputs&quot;</span>]:</div>
<div class="line"><span class="lineno">   30</span>            print(<span class="stringliteral">&quot;    &quot;</span> + op + <span class="stringliteral">&quot;,&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   31</span>        print(<span class="stringliteral">&quot;);&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   32</span> </div>
<div class="line"><span class="lineno">   33</span>        print(<span class="stringliteral">&quot;//INPUTS&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   34</span>        <span class="keywordflow">for</span> ip <span class="keywordflow">in</span> functions[funcName][<span class="stringliteral">&quot;inputs&quot;</span>]:</div>
<div class="line"><span class="lineno">   35</span>            <span class="keywordflow">if</span> (ip==<span class="stringliteral">&quot;clk&quot;</span>):</div>
<div class="line"><span class="lineno">   36</span>                print(<span class="stringliteral">&quot;    input &quot;</span> +ip + <span class="stringliteral">&quot;;&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   37</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   38</span>                print(<span class="stringliteral">&quot;    input &quot;</span> + width +ip + <span class="stringliteral">&quot;;&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>        print(<span class="stringliteral">&quot;//OUTPUTS&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   41</span>        <span class="keywordflow">for</span> op <span class="keywordflow">in</span> functions[funcName][<span class="stringliteral">&quot;outputs&quot;</span>]:</div>
<div class="line"><span class="lineno">   42</span>            <span class="keywordflow">if</span> internalVariables[op][<span class="stringliteral">&quot;type&quot;</span>] == <span class="stringliteral">&quot;reg&quot;</span>:</div>
<div class="line"><span class="lineno">   43</span>                print(<span class="stringliteral">&quot;    output reg &quot;</span> + width + op + <span class="stringliteral">&quot;;&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   44</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   45</span>                print(<span class="stringliteral">&quot;    output &quot;</span> + width + op + <span class="stringliteral">&quot;;&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>        <span class="comment"># intermediate value decl</span></div>
<div class="line"><span class="lineno">   48</span>        print(<span class="stringliteral">&quot;//Intermediate values&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   49</span>        <span class="keywordflow">for</span> key <span class="keywordflow">in</span> internalVariables.keys():</div>
<div class="line"><span class="lineno">   50</span>            <span class="keywordflow">if</span> key <span class="keywordflow">not</span> <span class="keywordflow">in</span> functions[funcName][<span class="stringliteral">&quot;outputs&quot;</span>]:</div>
<div class="line"><span class="lineno">   51</span>                print(<span class="stringliteral">&quot;    &quot;</span> + internalVariables[key][<span class="stringliteral">&quot;type&quot;</span>] + width + key + <span class="stringliteral">&quot;;&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>        <span class="comment"># wire assignments</span></div>
<div class="line"><span class="lineno">   54</span>        print(<span class="stringliteral">&quot;&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   55</span>        <span class="keywordflow">for</span> key <span class="keywordflow">in</span> internalVariables.keys():</div>
<div class="line"><span class="lineno">   56</span>            <span class="keywordflow">if</span> internalVariables[key][<span class="stringliteral">&quot;type&quot;</span>] == <span class="stringliteral">&quot;wire&quot;</span>:</div>
<div class="line"><span class="lineno">   57</span>                print(<span class="stringliteral">&quot;    assign &quot;</span> + key + <span class="stringliteral">&quot; = &quot;</span> + internalVariables[key][<span class="stringliteral">&quot;value&quot;</span>] + <span class="stringliteral">&quot;;&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>        <span class="comment"># reg assignments</span></div>
<div class="line"><span class="lineno">   60</span>        print(<span class="stringliteral">&quot;&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   61</span>        <span class="keywordflow">if</span> functions[funcName][<span class="stringliteral">&quot;regPresent&quot;</span>] <span class="keywordflow">is</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">   62</span>            print(<span class="stringliteral">&quot;    always @(posedge clk) begin&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   63</span>            <span class="keywordflow">for</span> key <span class="keywordflow">in</span> internalVariables.keys():</div>
<div class="line"><span class="lineno">   64</span>                <span class="keywordflow">if</span> internalVariables[key][<span class="stringliteral">&quot;type&quot;</span>] == <span class="stringliteral">&quot;reg&quot;</span>:</div>
<div class="line"><span class="lineno">   65</span>                    print(<span class="stringliteral">&quot;        &quot;</span> + key + <span class="stringliteral">&quot; &lt;= &quot;</span> + internalVariables[key][<span class="stringliteral">&quot;value&quot;</span>] + <span class="stringliteral">&quot;;&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   66</span>            print(<span class="stringliteral">&quot;    end&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>        <span class="comment"># module instantiations</span></div>
<div class="line"><span class="lineno">   69</span>        print(<span class="stringliteral">&quot;&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   70</span>        <span class="keywordflow">for</span> func_calls <span class="keywordflow">in</span> functionCalls[funcName]:</div>
<div class="line"><span class="lineno">   71</span>            callee = func_calls[<span class="stringliteral">&quot;callee&quot;</span>]</div>
<div class="line"><span class="lineno">   72</span>            inst = func_calls[<span class="stringliteral">&quot;instanceName&quot;</span>]</div>
<div class="line"><span class="lineno">   73</span>            paramList = func_calls[<span class="stringliteral">&quot;paramList&quot;</span>]</div>
<div class="line"><span class="lineno">   74</span>            print(<span class="stringliteral">&quot;    &quot;</span> + callee + <span class="stringliteral">&quot; &quot;</span> + inst + <span class="stringliteral">&quot;(&quot;</span>, end=<span class="stringliteral">&quot;&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   75</span>            paramOrder = functions[callee][<span class="stringliteral">&quot;paramOrder&quot;</span>]</div>
<div class="line"><span class="lineno">   76</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(len(paramOrder)):</div>
<div class="line"><span class="lineno">   77</span>                print(<span class="stringliteral">&quot;.&quot;</span> + paramOrder[i] + <span class="stringliteral">&quot;(&quot;</span> + paramList[i] + <span class="stringliteral">&quot;)&quot;</span>, end=<span class="stringliteral">&quot;&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   78</span>                <span class="keywordflow">if</span> i != len(paramOrder) - 1:</div>
<div class="line"><span class="lineno">   79</span>                    print(<span class="stringliteral">&quot;, &quot;</span>, end=<span class="stringliteral">&quot;&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   80</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   81</span>                    print(<span class="stringliteral">&quot;);&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>        print(<span class="stringliteral">&quot;endmodule&quot;</span>, file=file)</div>
<div class="line"><span class="lineno">   84</span>        print(<span class="stringliteral">&quot;&quot;</span>,file=file)</div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span> </div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
